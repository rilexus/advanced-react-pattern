(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[430],{94484:function(n,t,e){"use strict";var r=e(17674),i=e(59499),s=e(4730),c=(e(67294),e(4944)),o=e(26965),u=e(32125),d=e(85893),l=["stroke","fill","height","width"];function h(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function a(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?h(Object(e),!0).forEach((function(t){(0,i.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):h(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var f=function(n){var t=n.stroke,e=void 0===t?"currentColor":t,r=n.fill,i=void 0===r?"currentColor":r,c=n.height,o=void 0===c?"1em":c,u=n.width,h=void 0===u?"1em":u,f=(0,s.Z)(n,l);return(0,d.jsx)("svg",a(a({stroke:e,fill:i,height:o,width:h,strokeWidth:"0",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},f),{},{children:(0,d.jsx)("path",{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"})}))},b=u.ZP.div.withConfig({displayName:"Layout__StyledSidebar",componentId:"sc-1tqca63-0"})(["height:100vh;background:rgba(255,255,255,0.76);top:0;backdrop-filter:blur(10px);left:0;padding-left:2rem;transition:transform 200ms;width:300px;position:fixed;"]),p=function(n){var t=n.children,e=(0,o.Z)("sidebar-open",!1),i=(0,r.Z)(e,2),s=i[0],c=i[1];return(0,d.jsxs)(b,{style:{transform:"translate(".concat(s?0:-350,"px)"),boxShadow:"".concat(s?"\n            0 0px 6px -1px rgb(0 0 0/0.1),\n            0 0px 4px -2px rgb(0 0 0/0.1)":"none","\n           ")},children:[(0,d.jsx)("button",{style:{width:"3rem",height:"3rem",borderRadius:"3rem",border:"1px solid #d8d8d8",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",position:"absolute",top:"20px",right:s?"-1rem":"-5rem",transition:"transform 200ms",transform:"rotate(".concat(s?0:180,"deg)")},onClick:function(){c(!s)},children:(0,d.jsx)(f,{height:"1rem",width:"1rem"})}),t]})};t.Z=function(n){var t=n.navigation,e=n.content;return(0,d.jsx)("div",{children:(0,d.jsxs)(c.Z,{children:[(0,d.jsx)("div",{children:e}),(0,d.jsx)(p,{children:t})]})})}},94359:function(n,t,e){"use strict";e.d(t,{Z:function(){return a}});var r=e(59499),i=(e(67294),e(85893));function s(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function c(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?s(Object(e),!0).forEach((function(t){(0,r.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var o=function(n){return(0,i.jsx)("ul",c({style:c({paddingLeft:"1rem"},n.style)},n))},u=e(41664),d=e.n(u),l=e(32125).ZP.li.withConfig({displayName:"Li__Styled",componentId:"sc-2pbekf-0"})(["white-space:nowrap;line-height:1.5;"]),h=function(n){var t=n.children;return(0,i.jsx)(l,{children:t})},a=function(){return(0,i.jsx)("nav",{children:(0,i.jsxs)(o,{children:[(0,i.jsx)(h,{children:(0,i.jsx)(d(),{href:"/",children:"Home"})}),(0,i.jsxs)(h,{children:[(0,i.jsx)("h4",{children:"Utils"}),(0,i.jsxs)(o,{children:[(0,i.jsx)(h,{children:(0,i.jsx)(d(),{href:"/Prefetch",children:(0,i.jsx)("a",{children:"Prefetched State"})})}),(0,i.jsx)(h,{children:(0,i.jsx)(d(),{href:"/StateSubscription",children:"State Subscription"})})]})]}),(0,i.jsxs)(h,{children:[(0,i.jsx)("h4",{children:"Components"}),(0,i.jsxs)(o,{children:[(0,i.jsx)(h,{children:(0,i.jsx)(d(),{href:"/suspense",children:"Suspense"})}),(0,i.jsx)(h,{children:(0,i.jsx)(d(),{href:"/CompoundToggle",children:"Compound Components"})}),(0,i.jsx)(h,{children:(0,i.jsx)(d(),{href:"/StateReducer",children:"State Reducer"})}),(0,i.jsx)(h,{children:(0,i.jsx)(d(),{href:"/PropCollection",children:"Props Collection"})}),(0,i.jsx)(h,{children:(0,i.jsx)(d(),{href:"/RenderPropsToggle",children:"Render Props"})}),(0,i.jsx)(h,{children:(0,i.jsx)(d(),{href:"/Factory",children:"Factory"})}),(0,i.jsx)(h,{children:(0,i.jsx)(d(),{href:"/ControlProps",children:"Control Props"})}),(0,i.jsx)(h,{children:(0,i.jsx)(d(),{href:"/Decorator",children:"Decorator"})})]})]}),(0,i.jsxs)(h,{children:[(0,i.jsx)("h4",{children:"Hooks"}),(0,i.jsxs)(o,{children:[(0,i.jsx)(h,{children:(0,i.jsx)(d(),{href:"/ReducerHook",children:"Reducer Hook"})}),(0,i.jsx)(h,{children:(0,i.jsx)(d(),{href:"/UndoState",children:"Undo State"})}),(0,i.jsx)(h,{children:(0,i.jsx)(d(),{href:"/ThunkReducer",children:"Thunk Reducer"})}),(0,i.jsx)(h,{children:(0,i.jsx)(d(),{href:"/FetchHook",children:"Fetch Hook"})})]})]})]})})}},22314:function(n,t,e){"use strict";e.r(t);var r=e(45959),i=e(72179),s=e(37247),c=e(92777),o=e(82262),u=e(59499),d=e(67294),l=e(43236),h=(e(4944),e(94484)),a=e(94359),f=e(85893);function b(n){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,r=(0,s.Z)(n);if(t){var c=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,c)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)}}var p=new(function(n){(0,r.Z)(e,n);var t=b(e);function e(){return(0,c.Z)(this,e),t.call(this,0)}return(0,o.Z)(e,[{key:"add",value:function(n){this.setState(this.getState()+n)}}]),e}(function(){function n(t){(0,c.Z)(this,n),(0,u.Z)(this,"subscribers",[]),this.state=t}return(0,o.Z)(n,[{key:"subscribe",value:function(n){"function"===typeof n&&this.subscribers.push(n)}},{key:"unsubscribe",value:function(n){this.subscribers=this.subscribers.filter((function(t){return t!==n}))}},{key:"notify",value:function(){var n=this;this.subscribers.forEach((function(t){t(n.state)}))}},{key:"setState",value:function(n){this.state=n,this.notify()}},{key:"getState",value:function(){return this.state}}]),n}())),x=function(){var n=p.getState(),t=(0,d.useState)(!0)[1];return(0,d.useEffect)((function(){var n=function(){t((function(n){return!n}))};return p.subscribe(n),function(){p.unsubscribe(n)}}),[]),(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{children:n}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{onClick:function(){return p.add(1)},children:"Add"})})]})};t.default=function(){return(0,f.jsx)(h.Z,{navigation:(0,f.jsx)(a.Z,{}),content:(0,f.jsx)("div",{children:(0,f.jsx)("main",{children:(0,f.jsxs)("article",{children:[(0,f.jsx)("h1",{children:"State Subscription"}),(0,f.jsx)(x,{}),(0,f.jsx)(l.E,{children:"const Component = () => {\n  const count = controller.getState();\n  const [, setFlag] = useState(true);\n\n  useEffect(() => {\n    const handler = () => {\n      setFlag((toggle) => !toggle);\n    };\n    controller.subscribe(handler);\n    return () => {\n      controller.unsubscribe(handler);\n    };\n  }, []);\n  return (\n    <div>\n      <div>{count}</div>\n      <div>\n        <button onClick={() => controller.add(1)}>Add</button>\n      </div>\n    </div>\n  );\n};"}),(0,f.jsx)(l.E,{children:'class State {\n  subscribers = [];\n  constructor(state) {\n    this.state = state;\n  }\n\n  subscribe(subscriber) {\n    if (typeof subscriber !== "function") return;\n    this.subscribers.push(subscriber);\n  }\n\n  unsubscribe(subscriber) {\n    this.subscribers = this.subscribers.filter((s) => s !== subscriber);\n  }\n\n  notify() {\n    this.subscribers.forEach((subscriber) => {\n      subscriber(this.state);\n    });\n  }\n\n  setState(newState) {\n    this.state = newState;\n    this.notify();\n  }\n\n  getState() {\n    return this.state;\n  }\n}\n\n\n\nclass Controller extends State {\n  constructor() {\n    super(0);\n  }\n\n  add(value) {\n    this.setState(this.getState() + value);\n  }\n}'}),(0,f.jsx)(l.E,{children:"const useCount = () => {\n  const count = controller.getState();\n  const [, setFlag] = useState(true);\n\n  useEffect(() => {\n    const handler = () => {\n      setFlag((toggle) => !toggle);\n    };\n    controller.subscribe(handler);\n    return () => {\n      controller.unsubscribe(handler);\n    };\n  }, []);\n  \n  return [count, controller.add];\n}"}),(0,f.jsx)(l.E,{children:"const Component = () => {\n  const [count, add] = useCount();\n  \n  return (\n    <div>\n      <div>{count}</div>\n      <div>\n        <button onClick={() => add(1)}>Add</button>\n      </div>\n    </div>\n  );\n};"})]})})})})}},43236:function(n,t,e){"use strict";e.d(t,{E:function(){return r.Z}});var r=e(29404)},4944:function(n,t,e){"use strict";e.d(t,{Z:function(){return p}});var r,i,s,c,o=e(71383),u=(e(67294),e(32125)),d=576,l=768,h=992,a=1200,f=e(85893),b=u.ZP.div.withConfig({displayName:"Container__Styled",componentId:"sc-zkefve-0"})(["margin-right:auto;margin-left:auto;padding-right:15px;padding-left:15px;width:100%;max-width:992px;",";",";",";",";"],function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return(0,u.iv)(["@media (min-width:","px){",";}"],d,t)}(r||(r=(0,o.Z)(["\n    width: 99vw;\n  "]))),function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return(0,u.iv)(["@media (min-width:","px){",";}"],l,t)}(i||(i=(0,o.Z)(["\n    width: 90vw;\n  "]))),function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return(0,u.iv)(["@media (min-width:","px){",";}"],h,t)}(s||(s=(0,o.Z)(["\n    width: 70vw;\n  "]))),function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return(0,u.iv)(["@media (min-width:","px){",";}"],a,t)}(c||(c=(0,o.Z)(["\n    width: 40vw;\n  "])))),p=function(n){var t=n.children;return(0,f.jsx)(b,{children:t})}},27633:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/StateSubscription",function(){return e(22314)}])}},function(n){n.O(0,[744,774,888,179],(function(){return t=27633,n(n.s=t);var t}));var t=n.O();_N_E=t}]);